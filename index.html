<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SmartSaver AI</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
body{background:#f4f6f9;color:#111;}
header{
    background:white;
    padding:20px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
}
.logo{font-weight:700;font-size:22px;}
.hero{
    background:linear-gradient(135deg,#111,#333);
    color:white;
    padding:60px 40px;
    text-align:center;
}
.section{padding:50px 40px;}
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:25px;
}
.card{
    background:white;
    border-radius:25px;
    padding:15px;
    box-shadow:0 8px 25px rgba(0,0,0,0.05);
}
.card img{
    width:100%;
    height:170px;
    object-fit:cover;
    border-radius:20px;
}
.card h3{margin-top:10px;}
.price{margin:10px 0;font-weight:600;}
.badge{
    background:#00c853;
    color:white;
    padding:5px 10px;
    border-radius:20px;
    font-size:12px;
    display:inline-block;
}
button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:40px;
    background:#111;
    color:white;
    cursor:pointer;
    font-weight:600;
}
.modal{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.6);
    display:none;
    justify-content:center;
    align-items:center;
}
.modal-content{
    background:white;
    padding:30px;
    border-radius:25px;
    width:350px;
}
table{
    width:100%;
    margin-top:15px;
    border-collapse:collapse;
}
td{
    padding:6px 0;
    font-size:14px;
}
.small{
    font-size:12px;
    color:#666;
    margin-top:8px;
}
</style>
</head>

<body>

<header>
<div class="logo">SmartSaver AI</div>
<div>Session Views: <span id="sessionViews">0</span></div>
</header>

<div class="hero">
<h1>AI Optimization Engine</h1>
<p>Transparent • Algorithm-Based • No External APIs Connected</p>
</div>

<div class="section">
<div class="grid" id="productGrid"></div>
</div>

<div class="modal" id="modal">
<div class="modal-content">
<h3>Market Comparison</h3>
<div id="comparisonTable"></div>
<div class="small">Generated Market Simulation — No external APIs connected.</div>
<br>
<input type="number" id="depositPercent" placeholder="Deposit % (15-100)" style="width:100%;padding:10px;border-radius:20px;border:1px solid #ccc;">
<br><br>
<button onclick="confirmDeposit()">Continue</button>
</div>
</div>

<script>

let sessionViews = 0;
let selectedPrice = 0;
let selectedProviders = [];

const baseProducts = [
{ name:"NYC → Miami Flight", min:100, max:200 },
{ name:"Tesla Model 3 2024", min:35000, max:42000 },
{ name:"Brake Replacement", min:200, max:400 },
{ name:"Weekly Grocery Basket", min:50, max:120 }
];

function random(min,max){
return Math.floor(Math.random()*(max-min+1))+min;
}

function generateProviders(baseMin,baseMax){
let providers=[];
for(let i=0;i<4;i++){
providers.push(random(baseMin,baseMax));
}
return providers;
}

function applyTimeAdjustment(price){
let hour = new Date().getHours();
if(hour >=18){
return price + Math.round(price*0.05);
}
return price;
}

function renderProducts(){
const grid=document.getElementById("productGrid");
grid.innerHTML="";

baseProducts.forEach(product=>{

let providers = generateProviders(product.min,product.max);
let lowest = Math.min(...providers);
let highest = Math.max(...providers);
let adjusted = applyTimeAdjustment(lowest);

let confidence = Math.round(((highest-adjusted)/highest)*100);

grid.innerHTML+=`
<div class="card">
<img src="https://picsum.photos/400/300?random=${Math.random()}">
<h3>${product.name}</h3>
<div class="price">$${adjusted}</div>
<div class="badge">$${highest-adjusted} lower than highest provider</div>
<div class="small">Confidence Score: ${confidence}% below generated market peak</div>
<br>
<button onclick="openModal(${adjusted},${JSON.stringify(providers)})">View Details</button>
</div>
`;
});
}

function openModal(price,providers){
selectedPrice=price;
selectedProviders=providers;

sessionViews++;
document.getElementById("sessionViews").innerText=sessionViews;

let tableHTML="<table>";
providers.forEach((p,i)=>{
tableHTML+=`<tr><td>Provider ${i+1}</td><td>$${p}</td></tr>`;
});
tableHTML+="</table>";

document.getElementById("comparisonTable").innerHTML=tableHTML;
document.getElementById("modal").style.display="flex";
}

function confirmDeposit(){
let percent=document.getElementById("depositPercent").value;
if(percent<15||percent>100){
alert("Deposit must be between 15% and 100%");
return;
}
let amount=(selectedPrice*percent)/100;
alert("Deposit Calculated: $"+amount.toFixed(2));
document.getElementById("modal").style.display="none";
window.location.href="https://example.com";
}

renderProducts();

</script>

</body>
</html>
